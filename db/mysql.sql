CREATE TABLE `citations` (`citation_id` int(11) unsigned NOT NULL AUTO_INCREMENT, `page_id` smallint(5) unsigned DEFAULT NULL, `citation_type` varchar(255) DEFAULT NULL, `citation_uri` tinytext, `citation_uri_requested` tinytext, `citation_description` tinytext, `citation_title` tinytext, `citation_site_name` tinytext, `citation_created` datetime DEFAULT NULL, `citation_modified` datetime DEFAULT NULL, PRIMARY KEY (`citation_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `cities` (`city_id` int(10) unsigned NOT NULL, `city_name` varchar(200) NOT NULL, `city_state` varchar(20) default NULL, `country_code` char(2) NOT NULL, `city_name_raw` varchar(200) default NULL, `city_name_alt` varchar(4000) default NULL, `city_pop` int(10) unsigned default NULL, `city_lat` decimal(10,7) default NULL, `city_long` decimal(10,7) default NULL, `city_class` char(1) default NULL, `city_code` varchar(10) default NULL, PRIMARY KEY (`city_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `comments` (`comment_id` smallint(5) unsigned NOT NULL auto_increment, `comment_response` smallint(5) unsigned default NULL, `image_id` mediumint(8) unsigned default NULL, `user_id` smallint(5) unsigned default NULL, `comment_created` datetime default NULL, `comment_modified` datetime default NULL, `comment_deleted` datetime default NULL, `comment_status` tinyint(4) default NULL, `comment_text` text, `comment_text_raw` text, `comment_markup` varchar(255) default NULL, `comment_author_name` varchar(64) default NULL, `comment_author_uri` varchar(255) default NULL, `comment_author_email` varchar(255) default NULL, `comment_author_ip` varchar(23) default NULL, `comment_author_avatar` varchar(255) default NULL, PRIMARY KEY (`comment_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `countries` (`country_id` tinyint(3) unsigned NOT NULL auto_increment, `country_code` char(2) NOT NULL, `country_name` tinytext NOT NULL, PRIMARY KEY (`country_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `exifs` (`exif_id` int(10) unsigned NOT NULL auto_increment, `image_id` mediumint(8) unsigned NOT NULL, `exif_key` tinytext NOT NULL, `exif_name` tinytext NOT NULL, `exif_value` text, PRIMARY KEY (`exif_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `extensions` (`extension_id` smallint(5) unsigned NOT NULL auto_increment, `extension_uid` varchar(40) default NULL, `extension_class` varchar(32) default NULL, `extension_title` varchar(255) NOT NULL, `extension_status` tinyint(4) default NULL, `extension_build` smallint(5) unsigned default NULL, `extension_build_latest` smallint(5) unsigned default NULL, `extension_version` varchar(10) default NULL, `extension_version_latest` varchar(10) default NULL, `extension_hooks` text, `extension_preferences` text, `extension_folder` varchar(255) default NULL, `extension_file` varchar(255) default NULL, `extension_description` varchar(255) default NULL, `extension_creator_name` varchar(255) default NULL, `extension_creator_uri` varchar(255) default NULL, PRIMARY KEY (`extension_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `guests` (`guest_id` smallint(5) unsigned NOT NULL auto_increment, `guest_title` varchar(255) NOT NULL, `guest_key` varchar(40) default NULL, `guest_sets` text, `guest_last_login` datetime default NULL, `guest_created` datetime default NULL, `guest_views` int(10) unsigned default NULL, `guest_inclusive` tinyint(3) unsigned DEFAULT NULL, PRIMARY KEY (`guest_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `images` (`image_id` mediumint(8) unsigned NOT NULL auto_increment, `user_id` smallint(5) unsigned default NULL, `right_id` tinyint(3) unsigned default NULL, `image_ext` varchar(4) NOT NULL, `image_mime` varchar(16) NOT NULL, `image_title` varchar(255) default NULL, `image_description` text, `image_description_raw` text, `image_markup` varchar(255) default NULL, `image_privacy` tinyint(4) default NULL, `image_name` varchar(255) default NULL, `image_colors` varchar(255) default NULL, `image_color_r` tinyint(3) unsigned default NULL, `image_color_g` tinyint(3) unsigned default NULL, `image_color_b` tinyint(3) unsigned default NULL, `image_color_h` smallint(5) unsigned default NULL, `image_color_s` tinyint(3) unsigned default NULL, `image_color_l` tinyint(3) unsigned default NULL, `image_taken` datetime default NULL, `image_uploaded` datetime default NULL, `image_published` datetime default NULL, `image_modified` datetime default NULL, `image_geo` tinytext, `image_geo_lat` decimal(10,7) default NULL, `image_geo_long` decimal(10,7) default NULL, `image_views` int(10) unsigned default NULL, `image_comment_disabled` tinyint(4) default NULL, `image_comment_count` smallint(5) unsigned default NULL, `image_height` smallint(5) unsigned default NULL, `image_tag_count` smallint(5) unsigned default NULL, `image_width` smallint(5) unsigned default NULL, `image_related_hash` varchar(16) DEFAULT NULL, `image_related` text, `image_tags` text, `image_deleted` datetime DEFAULT NULL, `image_directory` varchar(255) DEFAULT NULL, PRIMARY KEY (`image_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `items` (`item_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `item_table` varchar(255) NOT NULL, `item_table_id` int(10) unsigned NOT NULL, PRIMARY KEY (`item_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `links` (`link_id` int(10) unsigned NOT NULL auto_increment, `image_id` mediumint(8) unsigned NOT NULL, `tag_id` mediumint(8) unsigned NOT NULL, PRIMARY KEY (`link_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `pages` (`page_id` smallint(5) unsigned NOT NULL auto_increment, `page_title` varchar(255) NOT NULL, `page_title_url` varchar(255) default NULL, `page_text` mediumtext, `page_text_raw` mediumtext, `page_markup` varchar(255) default NULL, `page_images` text, `page_views` int(10) unsigned default NULL, `page_words` int(10) unsigned default NULL, `page_created` datetime default NULL, `page_modified` datetime default NULL, `page_category` varchar(255) DEFAULT NULL, `page_excerpt` text, `page_excerpt_raw` text, `page_deleted` datetime DEFAULT NULL, PRIMARY KEY (`page_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `rights` (`right_id` tinyint(3) unsigned NOT NULL auto_increment, `right_title` varchar(255) NOT NULL, `right_uri` varchar(255) default NULL, `right_image` varchar(255) default NULL, `right_description` text, `right_description_raw` text,  `right_created` datetime default NULL, `right_modified` datetime default NULL, `right_image_count` int(10) unsigned default NULL, `right_deleted` datetime DEFAULT NULL, `right_markup` varchar(255) DEFAULT NULL, PRIMARY KEY (`right_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `sets` (`set_id` smallint(5) unsigned NOT NULL auto_increment, `set_title` varchar(255) NOT NULL, `set_title_url` varchar(255) default NULL, `set_type` varchar(255) default NULL, `set_description` text, `set_description_raw` text, `set_images` text, `set_views` int(10) unsigned default NULL, `set_image_count` smallint(5) unsigned default NULL, `set_call` text, `set_request` text, `set_modified` datetime default NULL, `set_created` datetime default NULL, `set_markup` varchar(255) DEFAULT NULL, `set_deleted` datetime DEFAULT NULL, PRIMARY KEY (`set_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `sizes` (`size_id` tinyint(3) unsigned NOT NULL auto_increment, `size_title` varchar(255) default NULL, `size_label` varchar(255) default NULL, `size_height` smallint(5) unsigned default NULL, `size_width` smallint(5) unsigned default NULL, `size_type` varchar(5) default NULL, `size_append` varchar(16) default NULL, `size_prepend` varchar(16) default NULL, `size_watermark` tinyint(3) unsigned default NULL, `size_modified` datetime DEFAULT NULL, PRIMARY KEY (`size_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `stats` (`stat_id` int(10) unsigned NOT NULL auto_increment, `stat_session` varchar(26) NOT NULL, `stat_date` datetime NOT NULL, `stat_duration` smallint(5) unsigned NOT NULL, `stat_referrer` varchar(255) default NULL, `stat_page` varchar(255) default NULL, `stat_page_type` varchar(255) default NULL, `stat_local` tinyint(3) unsigned NOT NULL, `user_id` smallint(5) unsigned default NULL, `guest_id` smallint(5) unsigned default NULL, PRIMARY KEY (`stat_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `tags` (`tag_id` mediumint(8) unsigned NOT NULL auto_increment, `tag_name` varchar(255) NOT NULL, `tag_parents` text, PRIMARY KEY (`tag_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `themes` (`theme_id` tinyint(3) unsigned NOT NULL auto_increment, `theme_uid` varchar(40) default NULL, `theme_title` varchar(255) NOT NULL, `theme_build` smallint(5) unsigned default NULL, `theme_build_latest` smallint(5) unsigned default NULL, `theme_version` varchar(10) default NULL, `theme_version_latest` varchar(10) default NULL, `theme_folder` varchar(255) default NULL, `theme_creator_name` varchar(255) default NULL, `theme_creator_uri` varchar(255) default NULL, PRIMARY KEY (`theme_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `users` (`user_id` smallint(5) unsigned NOT NULL auto_increment, `user_user` varchar(32) NOT NULL, `user_pass` varchar(40) NOT NULL, `user_pass_salt` varchar(40) NULL, `user_key` varchar(40) default NULL, `user_name` varchar(64) default NULL, `user_email` varchar(255) default NULL, `user_last_login` datetime default NULL, `user_created` datetime default NULL, `user_permissions` text, `user_preferences` text, `user_image_count` mediumint(8) unsigned default NULL, `user_comment_count` mediumint(8) unsigned DEFAULT NULL, `user_uri` varchar(255) DEFAULT NULL, PRIMARY KEY (`user_id`)) DEFAULT CHARSET=utf8;
CREATE TABLE `versions` (`version_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `page_id` smallint(5) unsigned DEFAULT NULL, `user_id` smallint(5) unsigned DEFAULT NULL, `version_title` varchar(255) DEFAULT NULL, `version_text_raw` text, `version_created` datetime DEFAULT NULL, `version_similarity` tinyint(3) unsigned DEFAULT NULL, PRIMARY KEY (`version_id`)) DEFAULT CHARSET=utf8;